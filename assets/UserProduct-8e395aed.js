import{_ as b,m as f,a as v,l as k,c as r,b as t,d as T,w as y,u as e,F as p,s as V,j as a,r as w,o as c,g as E}from"./index-511ca679.js";import{s as P}from"./swalStore-fe672b7f.js";const{VITE_API:_,VITE_PATH:h}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"weekhomeworks",BASE_URL:"/Vue-Homework-Vite",MODE:"production",DEV:!1,PROD:!0,SSR:!1},I={data(){return{id:"",product:{}}},methods:{getProduct(){this.loadings.pageLoading=!0,this.$http.get(`${_}/api/${h}/product/${this.id}`).then(o=>{o.data.success&&(this.product=o.data.product),this.loadings.pageLoading=!1}).catch(o=>{this.triggerToast("error",o.response.data.message)})},addToCart(o,i=1){const l={product_id:o,qty:i};this.loadings.pageLoading=!0,this.$http.post(`${_}/api/${h}/cart`,{data:l}).then(n=>{this.loadings.pageLoading=!1,this.triggerToast("success","已加入購物車"),this.$router.push("/user/cart")}).catch(n=>{this.loadings.pageLoading=!1,this.triggerToast("error",n.response.data.message)})},...f(P,["triggerToast"])},computed:{...v(k,["loadings"])},created(){this.id=this.$route.params.productId,this.getProduct()}},L={class:"container"},S={"aria-label":"breadcrumb"},x={class:"breadcrumb"},A={class:"breadcrumb-item"},C={class:"breadcrumb-item active","aria-current":"page"},B={class:"row justify-content-center"},D={class:"col-8 mb-5"},N=["src"],U={class:"row row-cols-3 g-2"},H={key:0,class:"col"},R=["src","alt"],j={class:"col-4"},F={class:"badge bg-primary rounded-pill"},O={key:0,class:"h5"},M={key:1,class:"h6"},q={key:2,class:"h5"},z=t("hr",null,null,-1);function G(o,i,l,n,s,g){const m=w("router-link");return c(),r("div",L,[t("nav",S,[t("ol",x,[t("li",A,[T(m,{to:"/user/cart"},{default:y(()=>[E("購物車")]),_:1})]),t("li",C,e(s.product.title),1)])]),t("div",B,[t("article",D,[t("h2",null,e(s.product.title),1),t("div",null,e(s.product.content),1),t("div",null,e(s.product.description),1),t("div",null,[t("img",{src:s.product.imageUrl,class:"img-fluid my-3"},null,8,N)]),t("div",U,[(c(!0),r(p,null,V(s.product.imagesUrl,(d,u)=>(c(),r(p,{key:u},[d?(c(),r("div",H,[t("img",{src:d,alt:`其他圖片${u+1}`,class:"w-100"},null,8,R)])):a("",!0)],64))),128))])]),t("div",j,[t("span",F,e(s.product.category),1),t("p",null,"商品描述："+e(s.product.description||"無"),1),t("p",null,"商品內容："+e(s.product.content||"無"),1),s.product.price?a("",!0):(c(),r("div",O,e(s.product.origin_price)+" 元",1)),s.product.price?(c(),r("del",M,"原價 "+e(s.product.origin_price)+" 元",1)):a("",!0),s.product.price?(c(),r("div",q,"現在只要 "+e(s.product.price)+" 元",1)):a("",!0),z,t("button",{type:"button",class:"btn btn-outline-danger",onClick:i[0]||(i[0]=d=>g.addToCart(s.product.id))}," 加到購物車 ")])])])}const Q=b(I,[["render",G]]);export{Q as default};
