import{_ as b,m as v,a as y,l as f,c as r,b as t,d as T,w as k,u as e,F as p,s as V,j as d,q as w,v as E,r as P,o as i,g as x}from"./index-3168ab36.js";import{s as I}from"./swalStore-be32231f.js";const{VITE_API:_,VITE_PATH:h}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"weekhomeworks",BASE_URL:"/Vue-Homework-Vite",MODE:"production",DEV:!1,PROD:!0,SSR:!1},L={data(){return{id:"",product:{},qty:1}},methods:{getProduct(){this.loadings.pageLoading=!0,this.$http.get(`${_}/api/${h}/product/${this.id}`).then(o=>{o.data.success&&(this.product=o.data.product),this.loadings.pageLoading=!1}).catch(o=>{this.triggerToast("error",o.response.data.message)})},addToCart(o,c=1){const l={product_id:o,qty:c};this.loadings.pageLoading=!0,this.$http.post(`${_}/api/${h}/cart`,{data:l}).then(a=>{this.loadings.pageLoading=!1,this.triggerToast("success","已加入購物車"),this.$router.push("/user/cart")}).catch(a=>{this.loadings.pageLoading=!1,this.triggerToast("error",a.response.data.message)})},...v(I,["triggerToast"])},computed:{...y(f,["loadings"])},created(){this.id=this.$route.params.productId,this.getProduct()}},S={class:"container"},q={"aria-label":"breadcrumb"},A={class:"breadcrumb"},C={class:"breadcrumb-item"},D={class:"breadcrumb-item active","aria-current":"page"},U={class:"row justify-content-center"},B={class:"col-8 mb-5"},N=["src"],H={class:"row row-cols-3 g-2"},R={key:0,class:"col"},j=["src","alt"],F={class:"col-4"},M={class:"badge bg-primary rounded-pill"},O={key:0,class:"h5"},z={key:1,class:"h6"},G={key:2,class:"h5"},J=t("hr",null,null,-1),K={class:"input-group"},Q=["disabled"];function W(o,c,l,a,s,g){const m=P("router-link");return i(),r("div",S,[t("nav",q,[t("ol",A,[t("li",C,[T(m,{to:"/user/cart"},{default:k(()=>[x("購物車")]),_:1})]),t("li",D,e(s.product.title),1)])]),t("div",U,[t("article",B,[t("h2",null,e(s.product.title),1),t("div",null,e(s.product.content),1),t("div",null,e(s.product.description),1),t("div",null,[t("img",{src:s.product.imageUrl,class:"img-fluid my-3"},null,8,N)]),t("div",H,[(i(!0),r(p,null,V(s.product.imagesUrl,(n,u)=>(i(),r(p,{key:u},[n?(i(),r("div",R,[t("img",{src:n,alt:`其他圖片${u+1}`,class:"w-100"},null,8,j)])):d("",!0)],64))),128))])]),t("div",F,[t("span",M,e(s.product.category),1),t("p",null,"商品描述："+e(s.product.description||"無"),1),t("p",null,"商品內容："+e(s.product.content||"無"),1),s.product.price?d("",!0):(i(),r("div",O,e(s.product.origin_price)+" 元",1)),s.product.price?(i(),r("del",z,"原價 "+e(s.product.origin_price)+" 元",1)):d("",!0),s.product.price?(i(),r("div",G,"現在只要 "+e(s.product.price)+" 元",1)):d("",!0),J,t("div",K,[w(t("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":c[0]||(c[0]=n=>s.qty=n)},null,512),[[E,s.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",disabled:s.qty<1,onClick:c[1]||(c[1]=n=>g.addToCart(s.product.id,s.qty))},"加入購物車",8,Q)])])])])}const Z=b(L,[["render",W]]);export{Z as default};
